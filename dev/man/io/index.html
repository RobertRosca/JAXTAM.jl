<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>IO Operations · JAXTAM Documentation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JAXTAM Documentation</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">JAXTAM.jl</a></li><li class="current"><a class="toctext" href>IO Operations</a><ul class="internal"></ul></li><li><a class="toctext" href="../missions/">Missions</a></li><li><a class="toctext" href="../science/">Science</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>IO Operations</a></li></ul><a class="edit-page" href="https://github.com/RobertRosca/JAXTAM.jl/blob/master/docs/src/man/io.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>IO Operations</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="IO-Operations-1" href="#IO-Operations-1">IO Operations</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._config_edit" href="#JAXTAM._config_edit"><code>JAXTAM._config_edit</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">_config_edit(key_name::String, key_value::String;
        config_path=string(__sourcedir__, &quot;user_configs.jld2&quot;))</code></pre><p>Edits (or adds) <code>key_name</code> to <code>key_value</code> in the config file</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/user_config.jl#L40-L45">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._config_gen" href="#JAXTAM._config_gen"><code>JAXTAM._config_gen</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">_config_gen(string(__sourcedir__, &quot;user_configs.jld2&quot;))</code></pre><p>Generates a user configuration file at <code>config_path</code>, by default, file is placed in the JAXTAM module dir</p><p>Config file is <code>/user_configs.jld2</code>, excluded from git</p><p>Also used to overwrite the old config file</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/user_config.jl#L1-L10">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._config_key_value" href="#JAXTAM._config_key_value"><code>JAXTAM._config_key_value</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">_config_key_value(key_name::Symbol,
    config_path=string(__sourcedir__, &quot;user_configs.jld2&quot;))</code></pre><p>Loads and returns the value for <code>key_name</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/user_config.jl#L80-L85">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._config_load" href="#JAXTAM._config_load"><code>JAXTAM._config_load</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">_config_load(config_path=string(__sourcedir__, &quot;user_configs.jld2&quot;))</code></pre><p>Loads data from the configuration file</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/user_config.jl#L26-L30">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._config_rm" href="#JAXTAM._config_rm"><code>JAXTAM._config_rm</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">_config_rm(key_name::String;
        config_path=string(__sourcedir__, &quot;user_configs.jld2&quot;))</code></pre><p>Removes a the key <code>key_name</code> from the configuration file</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/user_config.jl#L61-L66">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.config-Tuple{Symbol,Union{Function, String, Symbol, MissionDefinition}}" href="#JAXTAM.config-Tuple{Symbol,Union{Function, String, Symbol, MissionDefinition}}"><code>JAXTAM.config</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">config(key_name::Union{String,Symbol}, key_value::Union{String,Symbol})
    _config_edit(String(key_name), String(key_value))</code></pre><p>Adds <code>key_name</code> with <code>key_value</code> to the configuration file and saves</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/user_config.jl#L102-L107">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.config-Tuple{Symbol}" href="#JAXTAM.config-Tuple{Symbol}"><code>JAXTAM.config</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">config(key_name::Union{String,Symbol})</code></pre><p>Returns the value of <code>key_name</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/user_config.jl#L136-L140">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.config-Tuple{}" href="#JAXTAM.config-Tuple{}"><code>JAXTAM.config</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">config()</code></pre><p>Returns the full configuration file data</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/user_config.jl#L93-L97">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.config_rm-Tuple{Symbol}" href="#JAXTAM.config_rm-Tuple{Symbol}"><code>JAXTAM.config_rm</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">config_rm(key_name::Union{String,Symbol})</code></pre><p>Removes <code>key_name</code> from the configuration file and saves changes.</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/user_config.jl#L149-L153">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._master_download-Tuple{Any,Any}" href="#JAXTAM._master_download-Tuple{Any,Any}"><code>JAXTAM._master_download</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_master_download(master_path, master_url)</code></pre><p>Downloads (and unzips) a master table from HEASARC given its <code>url</code> and a destination <code>path</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L1-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._master_read_tdat-Tuple{String}" href="#JAXTAM._master_read_tdat-Tuple{String}"><code>JAXTAM._master_read_tdat</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_master_read_tdat(master_path::String)</code></pre><p>Reads a raw <code>.tdat</code> table from HEASARC mastertable archives, parses the ASCII data, finds and stores column names, cleans punctuation, converts to <code>DataFrame</code>, strongly types the columsn, and finally returns cleaned table as <code>DataFrame</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L50-L57">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._master_save-Tuple{Any,Any}" href="#JAXTAM._master_save-Tuple{Any,Any}"><code>JAXTAM._master_save</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_master_save(master_path_feather, master_data)</code></pre><p>Saves the <code>DataFrame</code> master table to a <code>.feather</code> file</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L115-L119">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._public_date_int-Tuple{Any}" href="#JAXTAM._public_date_int-Tuple{Any}"><code>JAXTAM._public_date_int</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_public_date_int(public_date)</code></pre><p>Converts the public date to an integer, if that fails just returns the arbitrary sort-of-far-away <code>2e10</code> date</p><p>TODO: Don&#39;t return 2e10 on Float64 parse error</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L253-L260">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._type_master_df!-Tuple{Any}" href="#JAXTAM._type_master_df!-Tuple{Any}"><code>JAXTAM._type_master_df!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_type_master_df!(master_df)</code></pre><p>Slightly janky way to strongly type columns in the master table, this needs to be done to ensure the <code>.feather</code> file is saved/read correctly</p><p>TODO: Make this less... stupid</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L15-L22">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master-Tuple{Union{String, Symbol}}" href="#JAXTAM.master-Tuple{Union{String, Symbol}}"><code>JAXTAM.master</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master(mission_name::Union{String,Symbol})</code></pre><p>Reads in a previously created <code>.feather</code> master table for a specific <code>mission_name</code> using a path provided by <code>_config_key_value(mission_name)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L159-L164">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master-Tuple{}" href="#JAXTAM.master-Tuple{}"><code>JAXTAM.master</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master()</code></pre><p>Loads a default mission, if one is set, otherwise throws error</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L197-L201">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master_query-Tuple{DataFrames.DataFrame,Symbol,Any}" href="#JAXTAM.master_query-Tuple{DataFrames.DataFrame,Symbol,Any}"><code>JAXTAM.master_query</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master_query(master_df::DataFrame, key_type::Symbol, key_value::Any)</code></pre><p>Wrapper for a query, takes in an already loaded DataFrame <code>master_df</code>, a <code>key_type</code> to search over (e.g. <code>obsid</code>), and a <code>key_value</code> to find (e.g. <code>0123456789</code>)</p><p>Returns the full row for any observations matching the search criteria</p><p>TODO: Fix the DataValue bug properly</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L215-L224">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master_query-Tuple{Symbol,Symbol,Any}" href="#JAXTAM.master_query-Tuple{Symbol,Symbol,Any}"><code>JAXTAM.master_query</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master_query(mission_name::Symbol, key_type::Symbol, key_value::Any)</code></pre><p>Calls <code>master_query(master_df::DataFrame, key_type::Symbol, key_value::Any)</code> by loading the master and append tables for <code>mission_name</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L242-L247">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master_query_public-Tuple{DataFrames.DataFrame,Symbol,Any}" href="#JAXTAM.master_query_public-Tuple{DataFrames.DataFrame,Symbol,Any}"><code>JAXTAM.master_query_public</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master_query_public(master_df::DataFrame, key_type::Symbol, key_value::Any)</code></pre><p>Calls <code>master_query</code> for given query, but restricted to currently public observations</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L270-L274">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master_query_public-Tuple{DataFrames.DataFrame}" href="#JAXTAM.master_query_public-Tuple{DataFrames.DataFrame}"><code>JAXTAM.master_query_public</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master_query_public(master_df::DataFrame)</code></pre><p>Returns all the currently public observations in <code>master_df</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L298-L302">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master_query_public-Tuple{Symbol,Symbol,Any}" href="#JAXTAM.master_query_public-Tuple{Symbol,Symbol,Any}"><code>JAXTAM.master_query_public</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master_query_public(mission_name::Symbol, key_type::Symbol, key_value::Any)</code></pre><p>Loads mission master table, then calls <code>master_query_public(master_df::DataFrame, key_type::Symbol, key_value::Any)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L286-L291">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master_query_public-Tuple{Symbol}" href="#JAXTAM.master_query_public-Tuple{Symbol}"><code>JAXTAM.master_query_public</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master_query_public(mission_name::Symbol)</code></pre><p>Loads master table for <code>mission_name</code>, calls <code>master_query_public(master_df::DataFrame)</code> returning all currently public observations</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L309-L314">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master_update-Tuple{Union{String, Symbol}}" href="#JAXTAM.master_update-Tuple{Union{String, Symbol}}"><code>JAXTAM.master_update</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master_update(mission_name::Union{String,Symbol})</code></pre><p>Downloads mastertable from HEASARC and overwrites old conerted tables</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L124-L128">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master_update-Tuple{}" href="#JAXTAM.master_update-Tuple{}"><code>JAXTAM.master_update</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master_update()</code></pre><p>Calls <code>master_update(mission_name::Union{String,Symbol})</code> using the <code>:default</code> mission</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_tables.jl#L146-L150">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._add_append_analysed!-Tuple{Any,Any}" href="#JAXTAM._add_append_analysed!-Tuple{Any,Any}"><code>JAXTAM._add_append_analysed!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_add_append_analysed!(append_df, mission_name)</code></pre><p>Appends column of <code>Union{Bool,Missing}</code>, true if the <code>JAXTAM</code> directory exists</p><p>TODO: Improve this function, currently an empty <code>JAXTAM</code> folder means it has been analysed</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L94-L100">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._add_append_cl!-Tuple{Any,Any,Any}" href="#JAXTAM._add_append_cl!-Tuple{Any,Any,Any}"><code>JAXTAM._add_append_cl!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_add_append_cl!(append_df, master_df, mission_name)</code></pre><p>Appends column of <code>Union{Tuple{String},Missing}</code>, tuple of local paths to the cl files</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L60-L64">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._add_append_downloaded!-Tuple{Any,Any}" href="#JAXTAM._add_append_downloaded!-Tuple{Any,Any}"><code>JAXTAM._add_append_downloaded!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_add_append_downloaded!(append_df, mission_name)</code></pre><p>Appends column of <code>Union{Bool,Missing}</code>, true if all cl files exist</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L77-L81">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._add_append_obspath!-Tuple{Any,Any,Any}" href="#JAXTAM._add_append_obspath!-Tuple{Any,Any,Any}"><code>JAXTAM._add_append_obspath!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_add_append_obspath!(append_df, master_df, mission_name)</code></pre><p>Appends column of <code>Union{String,Missing}</code>, with the <strong>local</strong> path to the observation</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L26-L30">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._add_append_publicity!-Tuple{Any,Any}" href="#JAXTAM._add_append_publicity!-Tuple{Any,Any}"><code>JAXTAM._add_append_publicity!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_add_append_publicity!(append_df, master_df)</code></pre><p>Appends column of <code>Union{Bool,Missing}</code>, true if <code>public_date &lt;=</code>now()`</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L11-L15">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._add_append_results!-Tuple{Any,Any}" href="#JAXTAM._add_append_results!-Tuple{Any,Any}"><code>JAXTAM._add_append_results!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_add_append_results!(append_df, mission_name)</code></pre><p>Appends column of <code>String</code>, if the <code>results.html</code> file exists for an observation the path to the file is returned, otherwise &quot;NA&quot; is returned</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L111-L116">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._add_append_uf!-Tuple{Any,Any,Any}" href="#JAXTAM._add_append_uf!-Tuple{Any,Any,Any}"><code>JAXTAM._add_append_uf!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_add_append_uf!(append_df, master_df, mission_name)</code></pre><p>Appends column of Union{Tuple{String},Missing}, tuple of local paths to the uf files</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L43-L47">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._append_gen-Tuple{Any,Any}" href="#JAXTAM._append_gen-Tuple{Any,Any}"><code>JAXTAM._append_gen</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_append_gen(mission_name, master_df)</code></pre><p>Runs all the <code>_add_append</code> functions, returns the full <code>append_df</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L137-L141">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._append_gen-Tuple{Any}" href="#JAXTAM._append_gen-Tuple{Any}"><code>JAXTAM._append_gen</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_append_gen(mission_name)</code></pre><p>Generates the append file for a mission</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L229-L233">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._append_load-Tuple{Any}" href="#JAXTAM._append_load-Tuple{Any}"><code>JAXTAM._append_load</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_append_load(append_path_feather)</code></pre><p>Loads a saved <code>append_df</code>, runs <code>_feather2tuple()</code> and returns the <code>DataFrame</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L252-L256">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._append_save-Tuple{Any,Any}" href="#JAXTAM._append_save-Tuple{Any,Any}"><code>JAXTAM._append_save</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_append_save(append_path_feather, append_df)</code></pre><p>Runs <code>_tuple2feather()</code> on <code>append_df</code> then saves to the save path</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L241-L245">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._build_append-Tuple{Any}" href="#JAXTAM._build_append-Tuple{Any}"><code>JAXTAM._build_append</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_build_append(master_df)</code></pre><p>First step in creating append table, just returns the <code>obsid</code> column from a missions master table</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L1-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._feather2tuple-Tuple{DataFrames.DataFrame}" href="#JAXTAM._feather2tuple-Tuple{DataFrames.DataFrame}"><code>JAXTAM._feather2tuple</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_feather2tuple(append_df::DataFrames.DataFrame)</code></pre><p>Function that takes in a <code>DataFrame</code> which has been run through <code>_tuple2feather()</code> and joins the split tuples together</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L201-L206">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._tuple2feather-Tuple{DataFrames.DataFrame}" href="#JAXTAM._tuple2feather-Tuple{DataFrames.DataFrame}"><code>JAXTAM._tuple2feather</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_tuple2feather(append_df::DataFrames.DataFrame)</code></pre><p><code>Feather.jl</code>, and probably Feather files in general, can&#39;t save Tuples, this function selects and columns in the <code>DataFrame</code> of type <code>Tuple</code>, then it splits the tuples up into a <code>DataFrame</code>, with column names of the original column name with <code>__tuple__$col$i</code> appended to the end</p><p>Only works if all the tuples in a column are of the same length</p><p>TODO: Make edge cases of tuples with over 9 elements work, test methods to allow tuples of different lengths to be split and saved as well</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L156-L168">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.append-Tuple{Any}" href="#JAXTAM.append-Tuple{Any}"><code>JAXTAM.append</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">append(mission_name)</code></pre><p>If no append file exists, crates one using the <code>_append_gen()</code> function, then saves the file with <code>_append_save()</code></p><p>If the append file exists, loads via <code>_append_load()</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L263-L270">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.append-Tuple{}" href="#JAXTAM.append-Tuple{}"><code>JAXTAM.append</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">append()</code></pre><p>Calld <code>append(mission_name)</code> with the default mission <code>config_dict[:default]</code> if one exists</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L286-L290">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.append_update-Tuple{Any}" href="#JAXTAM.append_update-Tuple{Any}"><code>JAXTAM.append_update</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">append_update(mission_name)</code></pre><p>Re-generates the append file</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L303-L307">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.master_a-Tuple{Any}" href="#JAXTAM.master_a-Tuple{Any}"><code>JAXTAM.master_a</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">master_a(mission_name)</code></pre><p>Joins the <code>master_df</code> (raw, unedited HEASARC master table) and the <code>append_df</code> <code>DataFrame</code>s together on <code>:obsid</code>, returns the joined tables</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/master_append.jl#L318-L323">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._clean_path_dots-Tuple{Any}" href="#JAXTAM._clean_path_dots-Tuple{Any}"><code>JAXTAM._clean_path_dots</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_clean_path_dots(dir)</code></pre><p>FTP directories use hidden dot folders frequentyl, function removes from a path for local use</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/data_download.jl#L34-L38">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._ftp_dir-Tuple{Symbol,DataFrames.DataFrame,String}" href="#JAXTAM._ftp_dir-Tuple{Symbol,DataFrames.DataFrame,String}"><code>JAXTAM._ftp_dir</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_ftp_dir(mission_name::Symbol, master::DataFrames.DataFrame, obsid::String)</code></pre><p>Same as <code>_ftp_dir(mission_name::Symbol, obsid::String)</code>, takes in <code>master</code> as argument to avoid running <code>master()</code> to load the master table each time</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/data_download.jl#L24-L29">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._ftp_dir-Tuple{Symbol,DataFrames.DataFrame}" href="#JAXTAM._ftp_dir-Tuple{Symbol,DataFrames.DataFrame}"><code>JAXTAM._ftp_dir</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_ftp_dir(mission_name::Symbol, obs_row::DataFrames.DataFrame)</code></pre><p>Returns the HEASARC FTP server path to an observation using the  mission defined <code>path_obs</code> function</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/data_download.jl#L1-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._ftp_dir-Tuple{Symbol,String}" href="#JAXTAM._ftp_dir-Tuple{Symbol,String}"><code>JAXTAM._ftp_dir</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_ftp_dir(mission_name::Symbol, obsid::String)</code></pre><p>Uses <code>master_query</code> to get <code>obs_row</code> for <code>obsid</code>, calls <code>_ftp_dir(mission_name::Symbol, obs_row::DataFrames.DataFrame)</code></p><p>Calls <code>master(mission_name)</code> each time</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/data_download.jl#L13-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.download-Tuple{Symbol,Array}" href="#JAXTAM.download-Tuple{Symbol,Array}"><code>JAXTAM.download</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">download(mission_name::Symbol, obsids::Array; overwrite=false)</code></pre><p>Calls <code>master(mission_name)</code>, then <code>download(mission_name::Symbol, master::DataFrames.DataFrame, obsids::Array; overwrite=false)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/data_download.jl#L91-L95">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.download-Tuple{Symbol,DataFrames.DataFrame,Array}" href="#JAXTAM.download-Tuple{Symbol,DataFrames.DataFrame,Array}"><code>JAXTAM.download</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">download(mission_name::Symbol, master::DataFrames.DataFrame, obsids::Array; overwrite=false)</code></pre><p>Calls <code>download(mission_name::Symbol, master::DataFrames.DataFrame, obsid::String; overwrite=false)</code> with  an array of multiple obsids</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/data_download.jl#L77-L82">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.download-Tuple{Symbol,DataFrames.DataFrame,String}" href="#JAXTAM.download-Tuple{Symbol,DataFrames.DataFrame,String}"><code>JAXTAM.download</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">download(mission_name::Symbol, master::DataFrames.DataFrame, obsid::String; overwrite=false)</code></pre><p>Finds the FTP server-side path via <code>_ftp_dir</code>, downloads folder using <code>lftp</code>, currently excludes the <code>uf</code> files assuming calibrations are up to date. Saves download folder to local, dot-free, path</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/data_download.jl#L43-L48">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.download-Tuple{Symbol,String}" href="#JAXTAM.download-Tuple{Symbol,String}"><code>JAXTAM.download</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">download(mission_name::Symbol, obsid::String; overwrite=false)</code></pre><p>Calls <code>master(mission_name)</code>, then calls <code>download(mission_name::Symbol, master::DataFrames.DataFrame, obsid::String; overwrite=false)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/data_download.jl#L68-L72">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._datetime2mjd-Tuple{Dates.DateTime}" href="#JAXTAM._datetime2mjd-Tuple{Dates.DateTime}"><code>JAXTAM._datetime2mjd</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_datetime2mjd(human_time::Dates.DateTime)</code></pre><p>Converts (human-readable) <code>DataTime</code> to MJD (Julian - 2400000.5) time</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/misc.jl#L31-L35">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._mjd2datetime-Tuple{Nothing}" href="#JAXTAM._mjd2datetime-Tuple{Nothing}"><code>JAXTAM._mjd2datetime</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_mjd2datetime(mjd_time::Nothing)</code></pre><p>Returns <code>missing</code> if the <code>mjd_time</code> is <code>Nothing</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/misc.jl#L49-L53">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._mjd2datetime-Tuple{Number}" href="#JAXTAM._mjd2datetime-Tuple{Number}"><code>JAXTAM._mjd2datetime</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_mjd2datetime(mjd_time::Number)</code></pre><p>Converts MJD (Julian - 2400000.5) time to (human-readable) <code>DataTime</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/misc.jl#L40-L44">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.unzip!-Tuple{Any}" href="#JAXTAM.unzip!-Tuple{Any}"><code>JAXTAM.unzip!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">unzip!(path)</code></pre><p>Unzip function, using the bundled <code>7z.exe</code> for Windows, and <code>p7zip-full</code> for is_linux</p><p>Used to unzip the mastertables after download from HEASARC</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/io/misc.jl#L1-L7">source</a></section><h3><a class="nav-anchor" id="Mission-Definitions-1" href="#Mission-Definitions-1">Mission Definitions</a></h3><p>A mutable struct is used for the mission definition:</p><div><pre><code class="language-julia">mutable struct MissionDefinition
    name            ::String
    url             ::String
    path            ::String
    path_obs        ::Function
    path_cl         ::Function
    path_uf         ::Function
    path_rmf        ::String
    path_web        ::String
    good_energy_max ::Number
    good_energy_min ::Number
    instruments     ::Array
end</code></pre></div><p><code>name</code> simply defines the mission name.</p><p><code>url</code> contains the url to the HEASARC mastertable.</p><p><code>path</code> contains the local path to the main mission folder.</p><p><code>path_obs</code>, <code>path_cl</code>, and <code>path_uf</code> are three functions, which take in a row from a master table, and return the HEASARC server-sice path to the pbservation, cleaned files, and unfiltered files.</p><p><code>path_rmf</code> is a local path to the mission RMF files in caldb.</p><p><code>path_web</code> is the local path to the folder where the report pages will be saved.</p><p><code>good_energy_max</code> and <code>good_energy_min</code> are the energies the instrument has been rated for.</p><p><code>instruments</code> is an array of symbols of instrument names.</p><footer><hr/><a class="previous" href="../../"><span class="direction">Previous</span><span class="title">JAXTAM.jl</span></a><a class="next" href="../missions/"><span class="direction">Next</span><span class="title">Missions</span></a></footer></article></body></html>
