<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Missions · JAXTAM Documentation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JAXTAM Documentation</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">JAXTAM.jl</a></li><li><a class="toctext" href="../io/">IO Operations</a></li><li class="current"><a class="toctext" href>Missions</a><ul class="internal"></ul></li><li><a class="toctext" href="../science/">Science</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Missions</a></li></ul><a class="edit-page" href="https://github.com/RobertRosca/JAXTAM.jl/blob/master/docs/src/man/missions.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Missions</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Missions-1" href="#Missions-1">Missions</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._read_fits_event-Tuple{String}" href="#JAXTAM._read_fits_event-Tuple{String}"><code>JAXTAM._read_fits_event</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_read_fits_event(fits_path::String)</code></pre><p>Reads the standard columns for timing analysis (&quot;TIME&quot;, &quot;PI&quot;, &quot;GTI&quot;) from a FITS file,  returns <code>InstrumentData</code> type filled with the relevant data</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/read_events.jl#L48-L53">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._read_fits_hdu-Tuple{FITSIO.FITS,String}" href="#JAXTAM._read_fits_hdu-Tuple{FITSIO.FITS,String}"><code>JAXTAM._read_fits_hdu</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_read_fits_hdu(fits_file::FITS, hdu_id::String; cols=&quot;auto&quot;)</code></pre><p>Reads the HDU <code>hdu_id</code> from the loaded FITS file <code>fits_file</code>, returns the HDU data</p><p>Cannot read <code>BitArray</code> type columns due to <code>FITSIO</code> limitations</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/read_events.jl#L12-L18">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._save_cl_feather-Tuple{String,Union{String, Symbol},DataFrames.DataFrame,DataFrames.DataFrame,DataFrames.DataFrame}" href="#JAXTAM._save_cl_feather-Tuple{String,Union{String, Symbol},DataFrames.DataFrame,DataFrames.DataFrame,DataFrames.DataFrame}"><code>JAXTAM._save_cl_feather</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_save_cl_feather(feather_dir::String, instrument_name::Union{String,Symbol},
    fits_events_df::DataFrame, fits_gtis_df::DataFrame, fits_meta_df::DataFrame)</code></pre><p>Due to Feather file restrictions, cannot save all the event and GTI data in one, so  they are split up into three files: <code>events</code>, <code>gtis</code>, and <code>meta</code>. The <code>meta</code> file contains  just the mission name, obsid, and observation start and stop times</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/read_events.jl#L147-L154">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.read_cl-Tuple{Symbol,DataFrames.DataFrame,String}" href="#JAXTAM.read_cl-Tuple{Symbol,DataFrames.DataFrame,String}"><code>JAXTAM.read_cl</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">read_cl(mission_name::Symbol, append_df::DataFrames.DataFrame, obsid::String; overwrite=false)</code></pre><p>Calls <code>master_query()</code> to get the <code>obs_row</code>, then calls read<em>cl(mission</em>name::Symbol, obs_row::DataFrames.DataFrame; overwrite=false)</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/read_events.jl#L222-L226">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.read_cl-Tuple{Symbol,DataFrames.DataFrame}" href="#JAXTAM.read_cl-Tuple{Symbol,DataFrames.DataFrame}"><code>JAXTAM.read_cl</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">read_cl(mission_name::Symbol, obs_row::DataFrames.DataFrame; overwrite=false)</code></pre><p>Attempts to read saved (feather) data, if none is found then the <code>read_cl_fits</code> function is ran  and the data is saved with <code>_save_cl_feather</code> for future use</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/read_events.jl#L162-L167">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.read_cl-Tuple{Symbol,String}" href="#JAXTAM.read_cl-Tuple{Symbol,String}"><code>JAXTAM.read_cl</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">read_cl(mission_name::Symbol, obsid::String; overwrite=false)</code></pre><p>Calls <code>master_a()</code>, then calls <code>read_cl(mission_name::Symbol, append_df::DataFrames.DataFrame, obsid::String; overwrite=false)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/read_events.jl#L233-L237">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.read_cl_fits-Tuple{Symbol,DataFrames.DataFrame}" href="#JAXTAM.read_cl_fits-Tuple{Symbol,DataFrames.DataFrame}"><code>JAXTAM.read_cl_fits</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">read_cl_fits(mission_name::Symbol, obs_row::DataFrames.DataFrame)</code></pre><p>Reads in FITS data for an observation, returns a <code>Dict{Symbol,InstrumentData}</code>, with the  symbol as the instrument name. So <code>instrument_data[:XTI]</code> works for NICER, and either  <code>instrument_data[:FPMA]</code> or <code>instrument_data[:FPMB]</code> work for NuSTAR</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/read_events.jl#L88-L94">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._group_return-Tuple{JAXTAM.BinnedData}" href="#JAXTAM._group_return-Tuple{JAXTAM.BinnedData}"><code>JAXTAM._group_return</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_group_return(data::BinnedData)</code></pre><p>Uses the <code>_group_select</code> function to find the group each GTI belongs in</p><p>Using these groups, splits sections of light curve up into an group, then  creates a new <code>BinnedData</code> for just the lightcurve of that one group, finally  returns a <code>Dict{Int64,JAXTAM.BinnedData}</code> where each <code>Int64</code> is for a different group</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L148-L156">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._group_select-Tuple{JAXTAM.BinnedData}" href="#JAXTAM._group_select-Tuple{JAXTAM.BinnedData}"><code>JAXTAM._group_select</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_group_select(data::BinnedData)</code></pre><p>Checks the differennce in time between GTIs, if the difference is under  a <code>group_period</code> (128 [sec] by default) then the GTIs are in the same <code>group</code></p><p>Done as data frequently has small breaks between GTIs, even though there is no  significant gap in the lightcurve. Groups are used during plotting, periodograms,  and when grouping/averaging together power spectra</p><p>Returns GTIs with an extra <code>:group</code> column added in</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L114-L125">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._lc_bin-Tuple{Array{Float64,1},Union{Float64, Int64},Union{Float64, Int64},Union{Float64, Int64}}" href="#JAXTAM._lc_bin-Tuple{Array{Float64,1},Union{Float64, Int64},Union{Float64, Int64},Union{Float64, Int64}}"><code>JAXTAM._lc_bin</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_lc_bin(event_times::Array{Float64,1}, bin_time::Union{Float64,Int64}, time_start::Union{Float64,Int64}, time_stop::Union{Float64,Int64})</code></pre><p>Bins the event times to bins of <code>bin_time</code> [sec] lengths</p><p>Performs binning out of memory for speed via <code>OnlineStats.jl</code> Hist function</p><p>Returns a range of <code>times</code>, with associated <code>counts</code> per time</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L80-L88">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._lc_filter_energy-Tuple{Array{Float64,1},Array{Float64,1},Float64,Float64}" href="#JAXTAM._lc_filter_energy-Tuple{Array{Float64,1},Array{Float64,1},Float64,Float64}"><code>JAXTAM._lc_filter_energy</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_lc_filter_energy(event_times::Array{Float64,1}, event_energies::Array{Float64,1}, good_energy_max::Float64, good_energy_min::Float64)</code></pre><p>Optionally filters events by a custom energy range, not just that given in the RMF files for a mission</p><p>Returns filtered event times and energies</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L63-L69">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._lc_read-Tuple{String,Symbol,Any}" href="#JAXTAM._lc_read-Tuple{String,Symbol,Any}"><code>JAXTAM._lc_read</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_lc_read(lc_dir::String, instrument::Symbol, bin_time)</code></pre><p>Reads the split files saved by <code>_lcurve_save</code>, combines them to return a single <code>BinnedData</code> type</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L255-L259">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._lcurve-Tuple{JAXTAM.InstrumentData,Union{Float64, Int64}}" href="#JAXTAM._lcurve-Tuple{JAXTAM.InstrumentData,Union{Float64, Int64}}"><code>JAXTAM._lcurve</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_lcurve(instrument_data::InstrumentData, bin_time::Union{Float64,Int64})</code></pre><p>Takes in the <code>InstrumentData</code> and desired <code>bin_time</code></p><p>Runs functions to perform extra time (<code>_lcurve_filter_time</code>) and energy (<code>_lc_filter_energy</code>) filtering</p><p>Runs the binning (<code>_lc_bin</code>) function, then finally <code>_group_select</code> to append group numbers to each GTI</p><p>Returns a <code>BinnedData</code> lightcurve</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L202-L212">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._lcurve_filter_time" href="#JAXTAM._lcurve_filter_time"><code>JAXTAM._lcurve_filter_time</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">_lcurve_filter_time(event_times::Arrow.Primitive{Float64}, event_energies::Arrow.Primitive{Float64},</code></pre><p>Largely not used, as the GTI filtering is enough to deal with out-of-time-range events, and  manually filtering those events out early is computationally intensive</p><p>Function takes in event times and energies, then filters any events outside of the <code>start</code> and <code>stop</code> times</p><p>Optionally performs early filtering to remove low count (under 1/sec) GTIs, disabled by default as this is  performed later anyway</p><p>Returns array of filtered times, enegies, and GTIs</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L11-L23">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._lcurve_save-Tuple{JAXTAM.BinnedData,String}" href="#JAXTAM._lcurve_save-Tuple{JAXTAM.BinnedData,String}"><code>JAXTAM._lcurve_save</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_lcurve_save(lightcurve_data::BinnedData, lc_dir::String)</code></pre><p>Takes in <code>BinnedData</code> and splits the information up into three files, <code>meta</code>, <code>gtis</code>, and <code>data</code></p><p>Saves the files in a lightcurve directory (<code>/JAXTAM/lc/$bin_time/*</code>) per-instrument</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L232-L238">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.lcurve-Tuple{Symbol,DataFrames.DataFrame,Number}" href="#JAXTAM.lcurve-Tuple{Symbol,DataFrames.DataFrame,Number}"><code>JAXTAM.lcurve</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">lcurve(mission_name::Symbol, obs_row::DataFrame, bin_time::Number; overwrite=false)</code></pre><p>Main function, handles all the lightcurve binning</p><p>Runs binning functions if no files are found, then saves the generated <code>BinnedData</code></p><p>Loads saved files if they exist</p><p>Returns <code>Dict{Symbol,BinnedData}</code>, with the instrument as a symbol, e.g. <code>lc[:XTI]</code> for NICER,  <code>lc[:FPMA]</code>/<code>lc[:FPMB]</code> for NuSTAR</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L272-L283">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.lcurve-Tuple{Symbol,String,Number}" href="#JAXTAM.lcurve-Tuple{Symbol,String,Number}"><code>JAXTAM.lcurve</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">lcurve(mission_name::Symbol, obsid::String, bin_time::Number; overwrite=false)</code></pre><p>Runs <code>master_query</code> to find the desired <code>obs_row</code> for the observation</p><p>Calls main <code>lcurve(mission_name::Symbol, obs_row::DataFrame, bin_time::Number; overwrite=false)</code> function</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/lcurve.jl#L329-L335">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._read_calibration-Tuple{Union{Primitive{Int16}, Array},String}" href="#JAXTAM._read_calibration-Tuple{Union{Primitive{Int16}, Array},String}"><code>JAXTAM._read_calibration</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_read_calibration(pis::Union{Array,Arrow.Primitive{Int16}}, path_rmf::String)</code></pre><p>Loads the RMF calibration data, creates PI channels for energy conversion</p><p>Channel bounds are the average of the min and max energy range</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/calibrate.jl#L39-L45">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._read_calibration-Tuple{Union{Primitive{Int16}, Array},Symbol}" href="#JAXTAM._read_calibration-Tuple{Union{Primitive{Int16}, Array},Symbol}"><code>JAXTAM._read_calibration</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_read_calibration(pis::Union{Array,Arrow.Primitive{Int16}}, mission_name::Symbol)</code></pre><p>Loads the RMF path from the mission configuration file, then calls  <code>_read_calibration(pis::Union{Array,Arrow.Primitive{Int16}}, path_rmf::String)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/calibrate.jl#L60-L65">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._read_rmf-Tuple{String}" href="#JAXTAM._read_rmf-Tuple{String}"><code>JAXTAM._read_rmf</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_read_rmf(path_rmf::String)</code></pre><p>Reads an RMF calibration file (from HEASARC caldb), loads in energy bands and PI channels  for use when filtering events out of a good energy range</p><p>Returns the PI channels, and the min/max good energy ranges</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/calibrate.jl#L1-L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._read_rmf-Tuple{Symbol}" href="#JAXTAM._read_rmf-Tuple{Symbol}"><code>JAXTAM._read_rmf</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_read_rmf(mission_name::Symbol)</code></pre><p>Calls <code>_read_rmf(path_rmf)</code> using the <code>path_rmf</code> loaded from a mission configuration file</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/calibrate.jl#L28-L32">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.calibrate-Tuple{Symbol,DataFrames.DataFrame,String}" href="#JAXTAM.calibrate-Tuple{Symbol,DataFrames.DataFrame,String}"><code>JAXTAM.calibrate</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">calibrate(mission_name::Symbol, append_df::DataFrames.DataFrame, obsid::String)</code></pre><p>Calls <code>master_query</code> to load in the relevant <code>obs_row</code></p><p>Calls and returns <code>calibrate(mission_name::Symbol, obs_row::DataFrames.DataFrame)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/calibrate.jl#L143-L149">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.calibrate-Tuple{Symbol,DataFrames.DataFrame}" href="#JAXTAM.calibrate-Tuple{Symbol,DataFrames.DataFrame}"><code>JAXTAM.calibrate</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">calibrate(mission_name::Symbol, obs_row::DataFrames.DataFrame)</code></pre><p>Loads in the calibrated event data, as well as the mission calibration RMF file,  then filters the events by the energy ranges/PI channels in the RMF file</p><p>Saves the calibrated files as a <code>calib.feather</code> if none exists</p><p>Loads <code>calib.feater</code> file if it does exist</p><p>Returns a calibrated (filtered to contain only good energies) <code>InstrumentData</code> type</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/calibrate.jl#L72-L83">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.calibrate-Tuple{Symbol,String}" href="#JAXTAM.calibrate-Tuple{Symbol,String}"><code>JAXTAM.calibrate</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">calibrate(mission_name::Symbol, obsid::String)</code></pre><p>Calls <code>master_a</code> to load in the master table</p><p>Calls and returns <code>calibrate(mission_name::Symbol, append_df::DataFrames.DataFrame, obsid::String)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/calibrate.jl#L156-L162">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._gtis-Tuple{JAXTAM.BinnedData}" href="#JAXTAM._gtis-Tuple{JAXTAM.BinnedData}"><code>JAXTAM._gtis</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_gtis(lc::BinnedData)</code></pre><p>Calls <code>_lc_filter_gtis</code> using <code>BinnedData</code> input</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/gtis.jl#L87-L91">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._gtis_load-Tuple{Any,Any,Any}" href="#JAXTAM._gtis_load-Tuple{Any,Any,Any}"><code>JAXTAM._gtis_load</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_gtis_load(gti_dir, instrument, bin_time)</code></pre><p>Loads and parses the <code>_meta</code> and <code>_gti</code> files, puts into a <code>GTIData</code> constructor, returns <code>Dict{Int,GTIData}</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/gtis.jl#L122-L126">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._gtis_save-Tuple{Any,String}" href="#JAXTAM._gtis_save-Tuple{Any,String}"><code>JAXTAM._gtis_save</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_gtis_save(gtis, gti_dir::String)</code></pre><p>Splits up the GTI data into a <code>_meta.feather</code> file containing non-array variables for each GTI (index, start/stop times, etc...)  and multiple <code>_gti.feather</code> files for each GTI containing the counts and times</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/gtis.jl#L98-L103">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM._lc_filter_gtis-Tuple{StepRangeLen,Array{Int64,1},DataFrames.DataFrame,Symbol,Symbol,String}" href="#JAXTAM._lc_filter_gtis-Tuple{StepRangeLen,Array{Int64,1},DataFrames.DataFrame,Symbol,Symbol,String}"><code>JAXTAM._lc_filter_gtis</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">_lc_filter_gtis(binned_times::StepRangeLen, binned_counts::Array{Int,1}, gtis::DataFrames.DataFrame, mission::Symbol, instrument::Symbol, obsid::String; min_gti_sec=16)</code></pre><p>Splits the lightcurve (count) data into GTIs</p><p>First, removes GTIs under <code>min_gti_sec</code>, then puts the lightcurve data  into a <code>Dict{Int,GTIData}</code>, with the key as the <code>index</code> of the GTI</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/gtis.jl#L13-L20">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.gtis-Tuple{Symbol,DataFrames.DataFrame,Number}" href="#JAXTAM.gtis-Tuple{Symbol,DataFrames.DataFrame,Number}"><code>JAXTAM.gtis</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gtis(mission_name::Symbol, obs_row::DataFrames.DataFrame, bin_time::Number; overwrite=false)</code></pre><p>Handles file management, checks to see if GTI files exist already and loads them, if files do not  exist then the <code>_gits</code> function is ran, then the data is saved</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/gtis.jl#L158-L163">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JAXTAM.gtis-Tuple{Symbol,String,Number}" href="#JAXTAM.gtis-Tuple{Symbol,String,Number}"><code>JAXTAM.gtis</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gtis(mission_name::Symbol, obsid::String, bin_time::Number; overwrite=false)</code></pre><p>Runs <code>master_query</code> to load the <code>obs_row</code> for a given <code>obsid</code>, runs main <code>gits</code> function</p></div></div><a class="source-link" target="_blank" href="https://github.com/RobertRosca/JAXTAM.jl/blob/778565134a358dbf2180af41494ba1b2f350b180/src/science/gtis.jl#L204-L208">source</a></section><footer><hr/><a class="previous" href="../io/"><span class="direction">Previous</span><span class="title">IO Operations</span></a><a class="next" href="../science/"><span class="direction">Next</span><span class="title">Science</span></a></footer></article></body></html>
